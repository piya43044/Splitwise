<div class="groups-container">
 
    <!-- If Group detail is not active then it shows group list -->
    <ng-container *ngIf="!isGroupDetailActive">
        
        <table class="table table-bordered table-hover">
            <!-- Group header with add group button -->
            <thead class="table-info">
              <tr>
                <div class="d-flex justify-content-between align-items-center">
                  <h4>Groups</h4>
                  <button class="btn btn-primary" routerLink="/group/group-add">+ Add Group</button>
                </div>
              </tr>
            </thead>
      
            <!-- Group list -->
            <tbody>
              <tr *ngFor="let group of groups; let i=index">
                <div class="d-flex justify-content-between align-items-center">
                  <!-- Group name -->
                  <a class="p-2" (click)="groupDetailShow(group.groupName, i)">{{group.groupName}}</a>
      
                  <!-- Edit and delete button -->
                  <div>
                    <!-- Edit button -->
                    <button type="button" class="btn btn-outline-dark" (click)="navigateToEditForm(i)"><i class='fas fa-pen'></i></button>
                    <!-- Delete button -->
                    <button type="button" class="btn btn-outline-dark" (click)="deleteGroup(i)"><i class='fas fa-trash'></i></button>
                  </div>
                </div>
              </tr>
            </tbody>
        </table>
        
    </ng-container>

    <!-- If group detail is active then it shows group detail with transaction and expense list -->
    <ng-container *ngIf="isGroupDetailActive">
        <table class="table table-hover">
            <!-- Group header with add group button -->
            <thead class="table-info">
              <tr>
                <td colspan="3">
                  <div class="d-flex justify-content-between align-items-center">
  
                    <!-- Group Name -->
                    <h4>{{groupNameDetail}}</h4>
  
                    <!-- Add Expense and settle up button -->
                    <div class="expense-settleup">
                      <button class="btn btn-primary" routerLink="/expense/expense-add" type="button">Add Expense</button>
                      <button class="btn btn-success" routerLink="/settleUp/transaction-pattern" type="button">Settle Up</button>
                    </div>
                  </div>
                </td>
              </tr>
            </thead>
      
            <!-- Group transaction list and expense list -->
            <tbody>
                <tr *ngFor="let transaction of transactionList">
                    <td>{{transaction.payer}} paid <strong>{{transaction.currency}}{{transaction.amount}}</strong> to {{transaction.receiver}}</td>
                    <td><em>{{transaction.payer}} paid</em></td>
                    <td><strong>{{transaction.currency}}{{transaction.amount}}</strong></td>
                </tr>
                <tr *ngFor="let expense of expenseList">
                  <td><a routerLink="/expense/expense-edit/{{expense.expenseName}}">{{expense.expenseName}}</a></td>
                  <td>
                    <div class="d-flex flex-column">
                      <p>{{expense.paidBy}} paid</p>
                      <p>{{expense.currency}}{{expense.paidAmount}}</p>
                    </div>
                  </td>
                  <td>
                    <div class="d-flex flex-column">
                      <p>{{expense.paidBy}} lent {{expense.lent}}</p>
                      <p>{{expense.currency}}{{expense.lentAmount}}</p>
                    </div>
                  </td>
                </tr>
            </tbody>
        </table>
    </ng-container>
 
</div>