<!-- loader -->
<ng-container *ngIf="loading">
  <div class="spinner-border" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</ng-container>

<!-- dashboard content -->

<ng-container *ngIf="true">
  <div class="dashboard-container">

    <div class="table-responsive">
      <table class="table table-bordered">

        <!-- Dashboard header -->
        <thead class="table-secondary">
          <tr>
            <td colspan="3">
              <div class="dashboard-header d-flex justify-content-between align-items-center">
                <div>
                  <h4>Dashboard</h4>
                </div>

                <!-- Add expense button and settle up button -->
                <div class="expense-settleup">
                  <h6>{{userName | uppercase}}</h6>
                </div>

              </div>
            </td>
          </tr>

          <!-- Balance detail -->
          <tr>
            <th>
              <div>
                <p>Total balance:</p>
                <p>{{totalBalance | number: '.2-2'}}</p>
              </div>
            </th>
            <th>
              <div>
                <p class="text-danger">You owe:</p>
                <p class="text-danger">{{totalOwe | number: '.2-2'}}</p>
              </div>
            </th>
            <th>
              <div>
                <p class="text-success">You are owed:</p>
                <p class="text-success">{{totalOwed | number: '.2-2'}}</p>
              </div>
            </th>
          </tr>
        </thead>
      </table>

      <div class="dashboard-body justify-content-between align-items-center">
        <table class="table table-hover">
          <!-- expense header with add expense button -->
          <thead class="table-secondary sticky-header">
            <tr>
              <td colspan="7">
                <div class="expense-header d-flex justify-content-between align-items-center">

                  <!-- expense Name -->
                  <h4 class="p-2">Expenses Record</h4>

                  <!-- Add Expense and settle up button -->
                  <div class="expense-settleup">
                    <button class="btn btn-danger" routerLink="/settleUp" type="button">Settle Up</button>
                  </div>

                </div>
              </td>
            </tr>
          </thead>

          <!-- expense list -->
          <tbody>
            <!-- Borrowed Amount List -->
            <tr *ngFor="let item of borrowedAmountList; let i=index">
              <td>{{item.message}}</td>
              <td>{{item.friendName}}</td>
              <td> Rs. {{item.amount}}</td>

            </tr>

            <!-- Debt Amount List -->
            <tr *ngFor="let item of debtAmountList; let i=index">
              <td>{{item.friendName}}</td>
              <td>{{item.message}}</td>
              <td> RS. {{item.amount}}</td>

            </tr>
          </tbody>
        </table>
      </div>

    </div>
  </div>
</ng-container>

<ng-container *ngIf="loading">
  <div class="dashboard-container">
    <section>
      <div class="dashboard-header row p-2">
        <div class="col">
          <h4>Dashboard</h4>
        </div>
        <div class="col text-end">
          <h6>{{userName | uppercase}}</h6>
        </div>
      </div>

      <div class="row text-center">
        <div class="col">
          <p>Total balance:</p>

        </div>
        <div class="col">
          <p class="text-danger">You owe:</p>
        </div>
        <div class="col">
          <p class="text-success">You are owed:</p>
        </div>
      </div>

      <div class="row text-center table-bordered">
        <div class="col">
          <p>{{totalBalance | number: '.2-2'}}</p>
        </div>
        <div class="col">
          <p class="text-danger">{{totalOwe | number: '.2-2'}}</p>
        </div>
        <div class="col">
          <p class="text-success">{{totalOwed | number: '.2-2'}}</p>
        </div>
      </div>
    </section>
  </div>
</ng-container>
